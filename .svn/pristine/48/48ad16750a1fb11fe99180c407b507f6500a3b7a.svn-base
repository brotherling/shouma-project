webpackJsonp([15],{UBBs:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={name:"assetpage",data:function(){return{parentMsg:this.$route.query.name,assetedata:[],headtdata:[],fielddata:[],SortingData:"",page:1,scloll:"true",num:"",sort:"ASM_A1_20",order:"desc",descstring:"默认排序",Imgshow:"false",menuId:this.$route.query.id,url:this.$route.query.url}},methods:{clicksao:function(){this.saoma(this.sous)},EnlargeImg:function(){event.stopPropagation()},renderData:function(t,s){return s[t]},showdata:function(t){var s=document.getElementById("a"+t),e=document.getElementsByClassName("pagedata");if("auto"==s.style.height)s.style.height="2.555556rem";else{for(var a=0;a<e.length;a++)e[a].style.height="2.555556rem";s.style.height="auto"}},sous:function(t){void 0!=t&&(this.SortingData=t),this.page=1,this.assetedata=[],this.UploadData()},UploadData:function(){var t=this;this.scloll=!1,this.$http.post("/API/assetservice/GetAssetList",{menuId:this.menuId,pageNumber:this.page,pageSize:"10",sortName:this.sort,order:this.order,url:this.url,filter:this.SortingData},{emulateJSON:!0}).then(function(s){var e=JSON.parse(s.data);t.num=e.total,e.rows.forEach(function(t){this.assetedata.push(t)},t)}),this.$http.post("/API/assetservice/GetAssetTitle",{emulateJSON:!0}).then(function(s){var e=JSON.parse(s.data);t.Imgshow=!0,t.scloll=!0,t.headtdata=e})},handleScroll:function(t){var s=t.target;if(s.scrollTop+s.offsetHeight==s.scrollHeight){if(this.page+=1,this.page>this.num/10+2)return void this.$message({message:"数据已经全部加载完",type:"warning"});this.scloll&&this.UploadData()}},clickseriation:function(t){for(var s=t.target,e=document.getElementsByClassName("seriationImg"),a=s.innerText,i=void 0,n=void 0,l=0;l<e.length;l++)e[l].style.display="none";switch(s.children[0].style.display="block",a){case"编码正序":i="ASM_A1_20",n="asc";break;case"编码倒叙":i="ASM_A1_20",n="desc";break;case"使用人员":i="useUserId",n="desc";break;case"购置日期正序":i="ASM_A1_290",n="asc";break;case"购置日期倒序":i="ASM_A1_290",n="desc";break;default:i="ASM_A1_20",n="desc"}this.descstring=a,this.sort=i,this.order=n,this.sous(),this.clickLeftImg()},clickLeftImg:function(){var t=document.getElementsByClassName("seriation"),s=document.getElementById("zhezhao");"none"==t[0].style.display?(t[0].style.display="block",s.style.display="block"):(t[0].style.display="none",s.style.display="none")}},mounted:function(){void 0!=this.$route.query.saodata&&(this.SortingData=this.$route.query.saodata),this.UploadData(),document.getElementsByClassName("seriationImg")[0].style.display="block"},watch:{$route:function(t,s){this.parentMsg=t.query.name,this.menuId=t.query.id,this.url=t.query.url,this.sous()}}},i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"div1"},[a("v-header",{attrs:{header:t.parentMsg}}),t._v(" "),a("section",{staticClass:"assetcontent",on:{scroll:function(s){t.handleScroll(s)}}},[a("div",{staticClass:"conetenttop"},[a("div",{staticClass:"Topleft"},[t._v(t._s(this.descstring)),a("span",{staticClass:"LeftImg",on:{click:function(s){t.clickLeftImg()}}})]),t._v(" "),a("div",{staticClass:"TopRight"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:""},model:{value:t.SortingData,callback:function(s){t.SortingData=s},expression:"SortingData"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(s){t.sous()}},slot:"append"})],1),t._v(" "),a("img",{staticClass:"RightImg",attrs:{src:e("vKV0")},on:{click:function(s){t.clicksao()}}})],1)]),t._v(" "),a("div",{staticClass:"seriation"},[a("ul",[a("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("默认排序"),a("span",{staticClass:"seriationImg"})]),t._v(" "),a("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("编码正序"),a("span",{staticClass:"seriationImg"})]),t._v(" "),a("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("编码倒序"),a("span",{staticClass:"seriationImg"})]),t._v(" "),a("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("使用人员"),a("span",{staticClass:"seriationImg"})]),t._v(" "),a("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("购置日期正序"),a("span",{staticClass:"seriationImg"})]),t._v(" "),a("li",{on:{click:function(s){t.clickseriation(s)}}},[t._v("购置日期倒序"),a("span",{staticClass:"seriationImg"})])])]),t._v(" "),a("div",{staticClass:"assetpagedata",attrs:{id:"assetpage"}},t._l(t.assetedata,function(s){return a("div",{key:s.ASM_A1_10,staticClass:"pagedata",attrs:{id:"a"+s.ASM_A1_10}},[a("ul",{on:{click:function(e){t.showdata(s.ASM_A1_10)}}},[t._l(t.headtdata,function(e,i){return a("li",{key:e.field},[a("span",{staticClass:"Amendfont"},[t._v(t._s(e.title)+":")]),a("span",{staticStyle:{"margin-left":"15px"}},[t._v(t._s(t.renderData(e.field,s)))])])}),t._v(" "),""!=s.imgUrl?a("li",{staticClass:"lastli"},[a("span",{staticClass:"Amendfont"},[t._v("图片信息")]),t._v(" "),a("img",{directives:[{name:"preview",rawName:"v-preview",value:s.imgUrl,expression:"item.imgUrl"}],staticClass:"DataImg",attrs:{src:s.imgUrl,"preview-title-enable":"false","preview-nav-enable":"false"}})]):t._e()],2),t._v(" "),"在用"==s.ASM_A1_120?a("div",{staticClass:"showImg1"}):"在库"==s.ASM_A1_120?a("div",{staticClass:"showImg2"}):"维修"==s.ASM_A1_120?a("div",{staticClass:"showImg3"}):"借用"==s.ASM_A1_120?a("div",{staticClass:"showImg4"}):"报废"==s.ASM_A1_120?a("div",{staticClass:"showImg5"}):"待报废"==s.ASM_A1_120?a("div",{staticClass:"showImg6"}):t._e()])}))]),t._v(" "),a("div",{attrs:{id:"zhezhao"}}),t._v(" "),a("v-foot",{on:{refreshbizlines:t.clicksao}})],1)},staticRenderFns:[]};var n=e("C7Lr")(a,i,!1,function(t){e("fU9C")},null,null);s.default=n.exports},fU9C:function(t,s){}});
//# sourceMappingURL=15.e87f01c59574425cdf64.js.map